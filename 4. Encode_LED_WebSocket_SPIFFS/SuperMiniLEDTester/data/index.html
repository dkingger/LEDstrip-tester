<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <title>SuperMini LED Tester</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 1rem;
      margin: 0;
    }
    .value {
      font-weight: bold;
      font-size: 1.5rem;
    }
    input[type=range] {
      width: 100%;
      height: 60px;
      -webkit-appearance: none;
      background: #ddd;
      border-radius: 10px;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      height: 60px;
      width: 30px;
      background: #333;
      border-radius: 5px;
      cursor: pointer;
    }
    footer {
      margin-top: 2rem;
      font-size: 0.9rem;
      color: #777;
    }
    .button-row {
      display: flex;
      gap: 1rem;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }
    .button-row img {
      max-height: 250px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div style="display: flex; justify-content: center;">
    <img src="/logo.png" style="height:auto; max-width:100%; margin-bottom:1rem;">
  </div>  
  
  <p>Lysstyrke: <span id="brightness" class="value">?</span></p>
  <input type="range" id="slider" min="0" max="255" value="100">
  
  <p>Effekt: <span id="effect" class="value">?</span></p>
  <div style="display: flex; flex-direction: column; gap: 1rem;">
    <img src="/forrig.png" style="width: 45%; height: auto;" onclick="send('prev')">
    <img src="/naeste.png" style="width: 45%; height: auto;" onclick="send('next')">
  </div>
  
  
  <script>
    var ws = new WebSocket("ws://" + location.hostname + ":81/");
    ws.onmessage = function(event) {
      var data = JSON.parse(event.data);
      document.getElementById("brightness").innerText = data.brightness;
      document.getElementById("slider").value = data.brightness;
      document.getElementById("effect").innerText = data.effect;
    };
    document.getElementById("slider").oninput = function() {
      ws.send(JSON.stringify({type: 'brightness', value: parseInt(this.value)}));
    };
    function send(cmd) {
      ws.send(JSON.stringify({type: 'effect', value: cmd}));
    }
  </script>
  
  <footer>Sidst opdateret: 2025-03-29</footer>
</body>
</html>
